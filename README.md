# Банковский Webhook Сервис

Сервис для обработки входящих webhook-ов от банка с начислением баланса организациям по ИНН.

## Функциональность

- Прием входящих webhook-ов от банка (POST /api/webhook/bank/)
- Проверка на дубликаты операций (по operation_id)
- Начисление средств на баланс организации по ИНН
- Логирование всех изменений баланса
- Проверка текущего баланса организации (GET /api/organizations/<inn>/balance/)

## Защита от дублей

Сервис проверяет уникальность operation_id перед обработкой платежа. При повторном получении вебхука с тем же operation_id сервис возвращает 200 OK без изменений.

## Логирование

Все изменения баланса логируются в файл balance_changes.log и выводятся в консоль.

## Установка

1. Клонировать репозиторий
2. Установить зависимости: pip install -r requirements.txt
3. Настроить подключение к MySQL в settings.py
4. Выполнить миграции: python manage.py migrate

## Технологии

- Python 3.9
- Django 4.2.17
- Django REST Framework
- MySQL 8.0.28
